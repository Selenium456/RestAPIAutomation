package Requests;

import java.io.IOException;

import RequestModels.PatientDemoGraphicsModel;
import ResponseModel.PDGResponse;
import Routes.PDGRoutes;
import Utils.ConfigReader;
import Utils.IRestResponse;
import Utils.RestResponse;
import io.restassured.RestAssured;
import io.restassured.http.Method;
import io.restassured.response.Response;
import io.restassured.specification.RequestSpecification;

public class PDGRequests {
	
	public static ConfigReader configread = null;
	
	
	
	
	public static RestResponse<PDGResponse> getDemoGraphics() throws IOException {
		
		configread = new ConfigReader();
		configread.LoadConfigFile();
		RestAssured.baseURI = configread.getURI();
		
		RequestSpecification request = RestAssured.given();
		
		Response response = request.request(Method.GET,PDGRoutes.demographics());
		System.out.println("The response body for get is "+response.getBody().jsonPath().get());
		return new RestResponse<PDGResponse>(PDGResponse.class,response);
		
	}
	
public static RestResponse<PDGResponse> postDemoGraphics(String patientId, String namePrefix, String lastName, String firstName, String middleName, String nameSuffix, String gender, String dob, String preferredOfficialLanguage, String preferredSpokenLanguage, String sin, String createdBy, String createdDate, String modifiedBy, String modifiedDate) throws IOException {
	
		PatientDemoGraphicsModel pdgModel = new PatientDemoGraphicsModel(patientId,namePrefix,lastName,firstName,middleName,nameSuffix,gender,dob,preferredOfficialLanguage,preferredSpokenLanguage,sin,createdBy,createdDate,modifiedBy,modifiedDate);
		
		configread = new ConfigReader();
		configread.LoadConfigFile();
		RestAssured.baseURI = configread.getURI();
		
		RequestSpecification request = RestAssured.given();
		request.contentType("application/json");
		request.body(pdgModel);
		
		Response response = request.request(Method.POST,PDGRoutes.create());
		System.out.println("The response body is "+response.getBody().jsonPath().get());
		return new RestResponse<PDGResponse>(PDGResponse.class,response);
		
	}
	
	
	

}
